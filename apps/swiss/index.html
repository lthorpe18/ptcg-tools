
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Swiss Tournament Manager</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="topbar">
      <a class="back" href="../../">← PTCG Tools</a>
      <div class="titlewrap">
        <h1>Swiss Tournament Manager</h1>
        <p class="sub">Create • Pair • Enter results • Live standings</p>
      </div>
      <div class="top-actions">
        <button id="btnExport" class="ghost" type="button">Export</button>
        <label class="ghost filelike">
          Import
          <input id="importFile" type="file" accept="application/json" hidden />
        </label>
      </div>
    </header>

    <main class="layout">
      <section class="sidebar">
<div class="sidebar-actions">
  <button id="btnNew" type="button">+ New Tournament</button>

  <input id="search" type="search" placeholder="Search tournaments..." />

  <div class="filters">
    <select id="filterFormat">
      <option value="">Any format</option>
      <option value="Bo1">Best of 1</option>
      <option value="Bo3">Best of 3</option>
    </select>

    <select id="filterType">
      <option value="">Any type</option>
      <option value="Cup">Cup</option>
      <option value="Challenge">Challenge</option>
      <option value="League">League</option>
      <option value="GLC">GLC</option>
      <option value="Cube">Cube</option>
    </select>

    <select id="filterRounds">
      <option value="">Any rounds</option>
      <option value="3">3 rounds</option>
      <option value="4">4 rounds</option>
      <option value="5">5 rounds</option>
      <option value="6">6 rounds</option>
      <option value="7">7 rounds</option>
      <option value="8">8 rounds</option>
    </select>
  </div>
</div>
        <div id="tourList" class="list"></div>
      </section>

      <section class="main">
        <div id="empty" class="empty">
          <h2>No tournament selected</h2>
          <p>Create one on the left, or select an existing tournament.</p>
        </div>

        <div id="pane" class="pane hidden">
          <div class="row">
            <label class="grow">
              Tournament name
              <input id="tName" type="text" placeholder="e.g. Saturday Cup" />
            </label>

            <label>
              Format
              <select id="tFormat">
                <option value="Bo1">Best of 1</option>
                <option value="Bo3">Best of 3</option>
              </select>
            </label>

            <label>
              Type
              <select id="tType">
                <option value="Cup">Cup</option>
                <option value="Challenge">Challenge</option>
                <option value="League">League</option>
                <option value="GLC">GLC</option>
                <option value="Cube">Cube</option>
              </select>
            </label>

            <label>
              Rounds
              <input id="tRounds" type="number" inputmode="numeric" min="1" step="1" value="5" />
            </label>

            <div class="row-actions">
              <button id="btnSave" class="accent" type="button">Save</button>
              <button id="btnDelete" class="danger" type="button">Delete</button>
            </div>
          </div>

          <div class="tabs">
            <button class="tab active" data-tab="players">Players</button>
            <button class="tab" data-tab="rounds">Rounds</button>
            <button class="tab" data-tab="standings">Standings</button>
          </div>

          <!-- Players -->
          <section id="tab-players" class="tabpane">
            <div class="split">
              <div class="block">
                <div class="blockhead">
                  <h3>Participants</h3>
                  <div class="mini">
                    <button id="btnAddPlayer" class="ghost" type="button">+ Add</button>
                  </div>
                </div>

                <div class="row">
                  <input id="newPlayerName" type="text" placeholder="Player name…" />
                  <button id="btnAddPlayer2" type="button">Add</button>
                </div>

                <div id="playerList" class="playerlist"></div>
              </div>

              <div class="block">
                <div class="blockhead">
                  <h3>Selected player</h3>
                  <div class="mini">
                    <button id="btnRemovePlayer" class="danger" type="button">Remove</button>
                  </div>
                </div>

                <div id="playerEmpty" class="empty small">
                  Select a player to edit decklist/image.
                </div>

                <div id="playerPane" class="hidden">
                  <label>
                    Name
                    <input id="pName" type="text" />
                  </label>

                  <div class="blocksub">
                    <div class="blockhead">
                      <h4>Decklist text</h4>
                      <div class="mini">
                        <button id="btnCopyLimitless" type="button">Copy for ImgGen</button>
                        <button id="btnOpenImgGen" class="ghost" type="button">Open ImgGen</button>
                      </div>
                    </div>
                    <textarea id="pDeckText" placeholder="Paste decklist text (PTCGL or Limitless)…" spellcheck="false"></textarea>
                  </div>

                  <div class="blocksub">
                    <div class="blockhead">
                      <h4>Deck image</h4>
                      <div class="mini">
                        <label class="ghost filelike">
                          Upload
                          <input id="pDeckImageFile" type="file" accept="image/*" hidden />
                        </label>
                        <button id="btnClearImg" class="ghost" type="button">Clear</button>
                      </div>
                    </div>
                    <div id="imgBox" class="imagedrop" tabindex="0">
                      <div id="imgEmpty" class="imageempty">
                        <p><strong>No image yet</strong></p>
                        <p>Upload (or paste) the ImgGen result.</p>
                      </div>
                      <img id="imgPreview" class="hidden" alt="Deck image" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Rounds -->
          <section id="tab-rounds" class="tabpane hidden">
            <div class="block">
              <div class="blockhead">
                <h3>Rounds</h3>
                <div class="mini">
                  <span id="roundHint" class="pill">—</span>
                  <button id="btnNewRound" type="button">Generate Next Round Pairings</button>
                </div>
              </div>

              <div id="roundsList" class="rounds"></div>
            </div>
          </section>

          <!-- Standings -->
          <section id="tab-standings" class="tabpane hidden">
            <div class="block">
              <div class="blockhead">
                <h3>Standings</h3>
                <div class="mini">
                  <span class="pill">Sort: Pts → Opp Win% → OppOpp Win%</span>
                </div>
              </div>
              <div class="tablewrap">
                <table id="standingsTable">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Player</th>
                      <th>W</th><th>L</th><th>T</th>
                      <th>Pts</th>
                      <th>Opp Win%</th>
                      <th>OppOpp Win%</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
              <p class="hint">
                Opp Win% and OppOpp Win% follow Play! Pokémon-style resistance concepts; byes are excluded from Opp Win% averaging. :contentReference[oaicite:2]{index=2}
              </p>
            </div>
          </section>

          <div class="meta">
            <span id="savedHint">—</span>
          </div>
        </div>
      </section>
    </main>

    <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>
    <script src="app.js"></script>
  </body>
</html>
