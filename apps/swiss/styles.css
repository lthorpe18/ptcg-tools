:root{
  --bg:#0b1220; --card:#121b2e; --text:#e8eefc; --muted:#9fb0d0;
  --border:rgba(255,255,255,.12); --accent:#7aa2ff; --danger:#ff6b7a;
}
*{box-sizing:border-box}
body{margin:0;font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);
  background:radial-gradient(1200px 800px at 20% 0%,#182647,var(--bg));}
.topbar{display:flex;align-items:center;gap:12px;padding:14px;border-bottom:1px solid var(--border);
  position:sticky;top:0;background:rgba(11,18,32,.75);backdrop-filter:blur(8px);z-index:10}
.back{color:var(--text);text-decoration:none;font-weight:800;padding:10px 12px;border:1px solid var(--border);
  border-radius:12px;background:rgba(255,255,255,.04)}
.titlewrap{flex:1;min-width:0}
h1{margin:0;font-size:18px}
.sub{margin:2px 0 0;color:var(--muted);font-size:12px}
.top-actions{display:flex;gap:10px}

.layout{display:grid;grid-template-columns:320px 1fr;gap:14px;padding:14px}
.sidebar,.main{border:1px solid var(--border);border-radius:18px;background:rgba(18,27,46,.88);
  box-shadow:0 12px 40px rgba(0,0,0,.25)}
.sidebar{padding:12px}
.sidebar-actions{display:grid;gap:10px;margin-bottom:10px}
.list{display:flex;flex-direction:column;gap:8px;max-height:calc(100vh - 170px);overflow:auto;padding-right:4px}
.item{border:1px solid var(--border);border-radius:14px;background:rgba(255,255,255,.04);padding:10px;cursor:pointer}
.item.active{border-color:rgba(122,162,255,.6);box-shadow:0 0 0 4px rgba(122,162,255,.10)}
.item .name{font-weight:900}
.item .meta{color:var(--muted);font-size:12px;margin-top:4px}

.filters{display:grid;gap:10px}
.filters select{width:100%}

.main{padding:12px}
.empty{padding:18px;color:var(--muted)}
.pane.hidden{display:none!important}

label{display:grid;gap:8px;color:var(--muted);font-size:13px}
input,textarea,select{
  width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);
  background:rgba(255,255,255,.06);color:var(--text);font-size:15px;outline:none}
textarea{min-height:220px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace;line-height:1.35}
input:focus,textarea:focus,select:focus{border-color:rgba(122,162,255,.6);box-shadow:0 0 0 4px rgba(122,162,255,.14)}
.row{display:flex;gap:12px;align-items:flex-end;flex-wrap:wrap;padding:6px}
.grow{flex:1;min-width:220px}
.row-actions{display:flex;gap:10px;flex-wrap:wrap}

button,.filelike{border:1px solid var(--border);background:rgba(255,255,255,.06);color:var(--text);
  border-radius:12px;padding:10px 12px;font-weight:900;font-size:14px}
button:active,.filelike:active{transform:translateY(1px)}
button.accent{background:var(--accent);color:#071023;border-color:transparent}
button.danger{background:rgba(255,107,122,.18);border-color:rgba(255,107,122,.6)}
button.ghost,.filelike.ghost{background:rgba(255,255,255,.03)}
.filelike{display:inline-flex;align-items:center;justify-content:center;cursor:pointer}

.tabs{display:flex;gap:8px;padding:6px;flex-wrap:wrap}
.tab{background:rgba(255,255,255,.03)}
.tab.active{background:rgba(122,162,255,.18);border-color:rgba(122,162,255,.5)}
.tabpane.hidden{display:none!important}

.split{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:6px}
.block{border:1px solid var(--border);border-radius:16px;background:rgba(255,255,255,.03);padding:12px}
.blocksub{margin-top:12px;border:1px solid var(--border);border-radius:14px;background:rgba(255,255,255,.02);padding:12px}
.blockhead{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:10px}
.blockhead h3,.blockhead h4{margin:0;font-size:14px}
.mini{display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:flex-end}
.pill{font-size:12px;color:var(--muted);border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:rgba(255,255,255,.03)}

.playerlist{display:flex;flex-direction:column;gap:8px;max-height:520px;overflow:auto;padding-right:4px}
.pitem{border:1px solid var(--border);border-radius:14px;background:rgba(255,255,255,.04);padding:10px;cursor:pointer}
.pitem.active{border-color:rgba(122,162,255,.6);box-shadow:0 0 0 4px rgba(122,162,255,.10)}
.pitem .meta{color:var(--muted);font-size:12px;margin-top:4px}

.rounds{display:flex;flex-direction:column;gap:12px}
.round{border:1px solid var(--border);border-radius:16px;background:rgba(255,255,255,.03);padding:12px}
.roundhead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}
.roundtitle{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}
.roundtitle h3{margin:0;font-size:14px}
.roundstatus{
  font-size:12px;
  color:var(--muted);
  border:1px solid var(--border);
  border-radius:999px;
  padding:6px 10px;
  background:rgba(255,255,255,.03);
}
.roundstatus.complete{
  border-color: rgba(122,162,255,.45);
  background: rgba(122,162,255,.12);
}
.roundstatus.editing{
  border-color: rgba(255,255,255,.35);
  background: rgba(255,255,255,.08);
}
.roundactions{display:flex;gap:8px;flex-wrap:wrap}
button.smallbtn{padding:8px 10px;font-size:13px}

.match{display:grid;grid-template-columns:1fr auto 1fr auto;gap:10px;align-items:center;
  border-top:1px solid var(--border);padding-top:10px;margin-top:10px}
.match:first-child{border-top:0;padding-top:0;margin-top:0}
.vs{text-align:center;color:var(--muted);font-weight:900}
select.result{min-width:130px}

.imagedrop{border:1px dashed rgba(255,255,255,.25);border-radius:14px;background:rgba(255,255,255,.02);
  min-height:220px;display:grid;place-items:center;padding:12px;outline:none}
.imagedrop:focus{border-color:rgba(122,162,255,.6);box-shadow:0 0 0 4px rgba(122,162,255,.14)}
.imageempty{text-align:center;color:var(--muted)}
#imgPreview{width:100%;height:auto;border-radius:12px;border:1px solid var(--border)}
.hidden{display:none!important}

.tablewrap{overflow:auto}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid var(--border);text-align:left;font-size:13px}
th{color:var(--muted);font-weight:900}
.meta{padding:10px 6px 0;color:var(--muted);font-size:12px}
.hint{margin:10px 0 0;color:var(--muted);font-size:12px}

.toast{position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
  background:rgba(18,27,46,.96);border:1px solid var(--border);border-radius:999px;
  padding:10px 14px;box-shadow:0 12px 30px rgba(0,0,0,.35);max-width:min(520px,calc(100% - 24px));
  text-align:center}

@media (max-width:980px){
  .layout{grid-template-columns:1fr}
  .list{max-height:260px}
  .split{grid-template-columns:1fr}
}
